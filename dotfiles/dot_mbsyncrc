# First section: remote IMAP account
IMAPAccount mailbox-swilhelm
Host imap.mailbox.org
Port 993
User swilhelm@mailbox.org
# For simplicity, this is how to read the password from another file.
# For better security you should use GPG https://gnupg.org/
PassCmd "cat ~/.mbsync-fastmail"
PassCmd "gopass show --password email/mailbox.org/swilhelm"
SSLType IMAPS
SSLVersions TLSv1.2

IMAPStore mailbox-swilhelm-remote
Account mailbox-swilhelm

# This section describes the local storage
MaildirStore mailbox-swilhelm-local
Path ~/.local/share/Maildir/swilhelm.mailbox.org
Inbox ~/local/share/Maildir/swilhelm.mailbox.org/INBOX
# The SubFolders option allows to represent all
# IMAP subfolders as local subfolders
SubFolders Verbatim

# This section a "channel", a connection between remote and local
Channel mailbox-swilhelm
Master :mailbox-swilhelm-remote:
Slave :mailbox-swilhelm-local:
Patterns *
Expunge None
CopyArrivalDate yes
Sync All
Create Slave
SyncState *
